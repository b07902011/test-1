const packet = {
  failed: [],
  info: [
    {
      course: "計算機網路實驗 Computer Network Laboratory",
      hw: "Lab 1 Trace route concept and implementation",
      due: "2021:03:25:23:59:59",
      src_from: "cool",
    },
    {
      course: "計算機網路實驗 Computer Network Laboratory",
      hw: "Lab2 Security Wireless LANs",
      due: "2021:04:22:23:59:59",
      src_from: "cool",
    },
    {
      course: "計算機網路實驗 Computer Network Laboratory",
      hw: "Lab 3 SIMULATING SDN WITH MININET",
      due: "2021:06:03:23:59:59",
      src_from: "cool",
    },
    {
      course: "計算機網路實驗 Computer Network Laboratory",
      hw: "The Presentation of demonstration",
      src_from: "cool",
    },
    {
      course: "計算機網路實驗 ComputerNetwork Laboratory",
      hw: "The Presentation of proposal",
      due: "2021:05:20:11:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "心理學實驗參與加分證明上傳",
      due: "2021:06:21:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "期中報告",
      due: "2021:04:25:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "期末報告",
      due: "2021:06:21:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第三週討論：注意力何時介入",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第二週討論：心靈的本質",
      due: "2021:03:07:23:59:00",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第八週討論：化學的腦切除術",
      due: "2021:04:18:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第六週討論：陳敬鎧案",
      due: "2021:04:04:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第十一週討論：記憶理論提問與回答",
      due: "2021:05:09:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第十三週討論：錯放罪犯 vs 錯抓無辜",
      due: "2021:05:23:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第十二週討論：情緒性事件的記憶",
      due: "2021:05:16:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第十五週討論：鏡子測驗",
      due: "2021:06:06:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第十六週討論：社會心理學問答",
      due: "2021:06:13:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第十四週討論：學習舉例",
      due: "2021:05:30:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第十週討論：心靈與大腦",
      due: "2021:05:02:23:59:59",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第四週作業：object-based attention",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "第四週討論：半邊忽略症",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "1-1-Tolman",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "1-2-Tolman",
      src_from: "cool",
    },
    {
      course: "普通心理學 General Psychology",
      hw: "2-1-Donders",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW13 - Model Description",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW14",
      due: "2021:07:02:23:59:00",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW15",
      due: "2021:07:09:23:59:00",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW01 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW02 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW03 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW04 total score",
      due: "2021:05:02:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW05 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW06 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW07 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW08 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW09",
      due: "2021:05:28:23:59:00",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW10 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "GitHub account survey for JudgeBoi",
      due: "2021:04:04:23:59:00",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW02-1 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW02-2 total score",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW01 Code Submission",
      due: "2021:03:28:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW02 Code Submission",
      due: "2021:04:04:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 Machine Learning",
      hw: "HW03 Code Submission",
      due: "2021:04:18:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW04 Code Submission",
      due: "2021:04:18:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW05 Code Submission",
      due: "2021:05:02:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW06 Code Submission",
      due: "2021:05:16:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW07 Code Submission",
      due: "2021:05:23:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW08 Code Submission",
      due: "2021:05:23:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW10 Code Submission",
      due: "2021:05:30:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW11 Code Submission",
      due: "2021:06:13:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW12 Code Submission",
      due: "2021:06:27:23:59:59",
      src_from: "cool",
    },
    {
      course: "機器學習 MachineLearning",
      hw: "HW13 Code Submission",
      due: "2021:07:04:23:59:59",
      src_from: "cool",
    },
    {
      course: "籃球中級",
      hw: "影片欣賞",
      due: "2021:06:02:17:00:00",
      src_from: "ceiba",
    },
    {
      course: "籃球中級",
      hw: "影片欣賞2",
      due: "2021:06:18:17:00:00",
      src_from: "ceiba",
    },
    {
      course: "一般醫學保健",
      hw: "期末報告(一)",
      due: "2021:06:03:00:00:00",
      src_from: "ceiba",
    },
    {
      course: "一般醫學保健",
      hw: "期末報告(二)",
      due: "2021:06:03:00:00:00",
      src_from: "ceiba",
    },
    {
      course: "一般醫學保健",
      hw: "期末報告(三)",
      due: "2021:06:03:00:00:00",
      src_from: "ceiba",
    },
    {
      course: "網路服務程式設計",
      hw: "HW#1",
      due: "2021:03:08:21:00:00",
      src_from: "ceiba",
    },
    {
      course: "網路服務程式設計",
      hw: "HW#2",
      due: "2021:03:15:21:00:00",
      src_from: "ceiba",
    },
    {
      course: "網路服務程式設計",
      hw: "HW#3",
      due: "2021:04:07:21:00:00",
      src_from: "ceiba",
    },
    {
      course: "網路服務程式設計",
      hw: "HW#4",
      due: "2021:04:22:21:00:00",
      src_from: "ceiba",
    },
    {
      course: "網路服務程式設計",
      hw: "HW#5",
      due: "2021:05:10:21:00:00",
      src_from: "ceiba",
    },
    {
      course: "網路服務程式設計",
      hw: "HW#6",
      due: "2021:05:20:21:00:00",
      src_from: "ceiba",
    },
    {
      course: "網路服務程式設計",
      hw: "HW#7",
      due: "2021:06:21:21:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "hw1",
      due: "2021:03:16:14:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "hw2",
      due: "2021:03:31:00:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "hw3",
      due: "2021:04:20:14:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "hw4",
      due: "2021:05:07:14:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "hw5",
      due: "2021:05:18:14:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "hw6",
      due: "2021:06:16:14:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "Final project PPT + Video",
      due: "2021:06:13:00:00:00",
      src_from: "ceiba",
    },
    {
      course: "資料庫系統-從SQL到NoSQL",
      hw: "Final project Report + Code",
      due: "2021:06:30:00:00:00",
      src_from: "ceiba",
    },
  ],
};

// 2021/06/09 21/00/undefined undefined:undefined

const tidyUpDate = (dateString) => {
  const tok = dateString.split(":");
  return tok[0] + "/" + tok[1] + "/" + tok[2] + " " + tok[3] + ":" + tok[4];
};

const tidyUpData = (rawData) => {
  const today = new Date();
  const date = "2020:06:16:";
  // const date = today.getFullYear() + ':' + (today.getMonth() + 1) + ':' + today.getDate() + ':';
  const time = today.getHours() + ":" + today.getMinutes();
  if (rawData) {
    const validData = rawData.filter(
      (data) => data.due === undefined || data.due > date + time
    );
    return validData.map((data, index) => {
      data.key = index;
      data.due = data.due ? tidyUpDate(data.due) : "";
      return data;
    });
  }
  return null;
};

const ReadyData = tidyUpData(packet.info);

export { ReadyData, tidyUpData };
